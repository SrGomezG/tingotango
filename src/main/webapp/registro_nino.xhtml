<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="./plantilla/ninoprincipal.xhtml"
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core">
    <ui:define name="registro_ninos">
        Registro de ninos - Formulario
    </ui:define>
    <ui:define name="content">
        <p:growl id="grwlErroresNino"/>
        <h:form id="frmNino" prependId="false"/>
        
        <p:panel header="Registro de niÃ±os">
            <p:panelGrid columns="2">
                <p:outputLabel value="Id"/>
                <p:spinner value="#{listaDEControlador.ninoEncontradoDETT.id}" min="1" required="true"/>
                <p:outputLabel value="Nombre"/>
                <p:inputText value="#{listaDEControlador.ninoEncontradoDETT.nombre}" required="true"/>
                <p:outputLabel value="Sexo"/>
                <p:inputText value="#{listaDEControlador.ninoEncontradoDETT.sexo}" required="true"/>                              
                </p:selectOneMenu>
                
                <p:commandButton value="Guardar" action="#{listaDEControlador.guardarNino()}" update="grwlErrores,frmNino">
                </p:commandButton>
                
                <p:commandButton value="Limpiar" update="@all" action="#{listaDEControlador.irCrearNinoDETT()}">
                    <p:ajax update="frmNino" listener="#{listaDEControlador.irCrearNinoDETT()}"/>
                </p:commandButton>
                
            </p:panelGrid>    
            
        </p:panel>
        </h:form>
        
        <h:form id="listaNinos">
            <p:dataTable style="width: 900px" var="nino" value="#{listaDEControlador.listaNinosDETT}">
                <p:column headerText="Id">
                    <h:outputText value="#{nino.id}"/>
                </p:column>
                <p:column headerText="Nombre">
                    <h:outputText value="#{nino.nombre}"/>
                </p:column>
                <p:column headerText="Sexo">
                    <h:outputText value="#{nino.sexo}"/>
                </p:column>
                <p:column headerText="Editar">
                    <p:commandButton value="Editar"
                                     oncomplete="PF('dlgActualizar).show()">
                        <p:ajax listener="#{listaDEControlador.ninoEditar(nino)}"
                                immediate="true" update="listaNinos"/>
                    </p:commandButton>
                </p:column>
                <p:column headerText="Borrar">
                                    <p:commandButton value="Borrar" action="#{listaDEControlador.eliminarDirecta()}"
                                     update="frmNino,grwlErroresNino,listaNinos"  immediate="true"  ajax="false" />
                </p:column>
            </p:dataTable>
            
            <p:dialog header="actualizar " widgetVar="dlgActualizar" modal="true" height="200"  closeOnEscape="true">
                <p:panel id="pnlActualizar" header="Datos Ninos">
                    <h:panelGrid columns="2">

                        <h:outputText value="Nombre"/>
                        <p:inputText  value="#{listaDEControlador.guardarNinos.nombre}" required="true" />

                        <h:outputText value="Identificador" />
                        <h:outputText value="#{listaDEControlador.guardarNinos.id}"/>

                        <p:outputLabel value="Sexo"/>

                        <p:selectOneMenu id="Sexo"  required="true" value="#{listaDEControlador.guardarNinos.sexo}" >

                            <f:selectItem itemLabel="Seleccione uno" itemEscaped="true"  />
                            <f:selectItem itemValue="Masculino" itemLabel="Masculino" />
                            <f:selectItem itemValue="Femenino" itemLabel="Femenino"/>

                        </p:selectOneMenu>

                        <p:commandButton value="Actualizar" action="#{listaDEControlador.actualizarNino()}"
                                         update="frmNino,grwlErroresNino,listaNinos" /> 


                    </h:panelGrid>



                </p:panel>
            </p:dialog>
            
        </h:form>

    </ui:define>
</p:panelGrid>
</p:panel>
</ui:define>

</ui:composition>

<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="./plantilla/ninoprincipal.xhtml"
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core">

    <ui:define name="juego_tingo_tango">
        Tingo Tango - Juego

    </ui:define>

    <ui:define name="content">


        <h:form id="frmTT" >
            <p:growl id="grwlErroresTT"/>
            <p:panel id="panelNinos" header="Listado de jugadores = #{listaDEControlador.listaNinosDETT.contarNodos()} ">

                <p:column>
                    <h:outputText  value="Oportunidades"/>
                    <p:spinner value="#{listaDEControlador.oporGenero}" required="true" min="1 "  max="#{listaDEControlador.oportunidades}"/>
                    <p:commandButton value="Reingresar"  action="#{listaDEControlador.reingresarPorGenero}"
                                     update="frmTT" disabled="#{listaDEControlador.listaNinosDETT.cabeza == null}" />
                </p:column>


                <h:form id="frmBotones">
                    <p:panel id="panelBotones" header="Acciones">
                        <p:panelGrid columns="2" >
                            <p:commandButton id="btnDer" value="#{listaDEControlador.textoBotonDer}" 
                                             disabled="#{listaDEControlador.listaNinosDETT.cabeza == null}" 
                                             style="color:#{listaDEControlador.colDer} !important;"
                                             action="#{listaDEControlador.controlarDerecha()}" update="btnDer">

                                <p:poll interval="1" listener="#{listaDEControlador.pasarSiguienteDerColor()}" 
                                        rendered="#{listaDEControlador.diagramaDerecha()}"  update="Grafica,btnDer"/>

                            </p:commandButton>
                            <p:commandButton id="btnIzq" value="#{listaDEControlador.textoBotonIzq}" 
                                             disabled="#{listaDEControlador.listaNinosDETT.cabeza == null}"
                                             style="color:#{listaDEControlador.listaNinosDETT.cabeza} !important;"
                                             action="#{listaDEControlador.controlarDerecha()}" update="btnIzq">
                                <p:poll  interval="1"  listener="#{listaDEControlador.pasarAnteriorDerColor()}" 
                                         rendered="#{listaDEControlador.diagramaIzquierda()}"  update="Grafica,btnIzq" />
                            </p:commandButton> 
                            <p:commandButton id="btnReiniciar" value="Reiniciar juego" action="#{controladorTingoTango.reiniciar()}" disabled="#{controladorTingoTango.listaNiñosDEC.cabezaInfante == null}"  
                                             update="btnReiniciar, Grafica">
                            </p:commandButton>
<!--
                            <p:panel id="lista" header="LISTA NIÑOS ELIMINADOS:: #{listaDEControlador.contarNinosEliminados()}" style="border: #045491"  >
                                <p:dataTable   style="width: 1000px" var="infanteEliminado" value="#{listaDEControlador.listadoOportunidades}">
                                    <p:column headerText="NOMBRE">
                                        <h:outputText value="#{infanteEliminado.Nino.nombre}" />
                                    </p:column>
                                    <p:column headerText="ID">
                                        <h:outputText value="#{infanteEliminado.infante.identificador}" />
                                    </p:column>
                                    <p:column headerText="GENERO">
                                        <h:outputText value="#{infanteEliminado.infante.genero}" />
                                    </p:column>
                                    <p:column headerText="SELECCIONAR">
                                        <p:commandButton  value="Seleccionar" 
                                                          action="#{controladorTingoTango.seleccionarInfante(infanteEliminado)}" immediate="true" update="frmTingoTngo"  >
                                        </p:commandButton>
                                    </p:column>
                                </p:dataTable>
                          -->      
                                <p:panel header="Reingresar"  >
                                    <p:panelGrid columns="2">
                                        <p:outputLabel value="Nombre"/>
                                        <p:outputLabel   value="#{listaDEControlador.infanteReingresar.infante.nombre}" />
                                        <p:outputLabel  value="Identificador"/>
                                        <p:outputLabel  value="#{controladorTingoTango.infanteReingresar.infante.identificador}"  />
                                        <p:outputLabel  value="Oportunidades"/>
                                        <p:spinner  value="#{controladorTingoTango.numOporIngreso}" min="1" max="#{controladorTingoTango.numOportunidades}"/>
                                        <p:commandButton  value="Reingresar" action="#{controladorTingoTango.reingresarNiño()}" 
                                                          update="frmTingoTngo" disabled="#{controladorTingoTango.listaNiñosDEC.cabezaInfante == null}" >
                                        </p:commandButton>
                                        <p:selectOneMenu id="ingresarEnPosicion"  value="#{controladorTingoTango.seleccionUbicacion}" required="" >
                                            <f:selectItem itemLabel="Reingresar en posición" itemEscaped="true"  />
                                            <f:selectItem itemValue="1"  itemLabel="Al inicio" />
                                            <f:selectItem itemValue="2" itemLabel="Al final" />                             
                                        </p:selectOneMenu>
                                        <h:outputText  value="Posicion especifica"/>
                                        <p:spinner value="#{controladorTingoTango.posicion}" required="true" min="1 "  max="#{controladorTingoTango.contarInfantes()}"/>                                          
                                        <p:commandButton  value="Reingresar en posicion dada" action="#{controladorTingoTango.reingresarEnPosDada()}" 
                                                          update="frmTingoTngo" disabled="#{controladorTingoTango.listaNiñosDEC.cabezaInfante == null}" >
                                        </p:commandButton>
                                    </p:panelGrid>
                                </p:panel>
                            </p:panel >
                            <!--
                            <p:commandButton value="Eliminar por Posición" disabled="#{listaDEController.listaPerrosDE.contarNodos() == 0}">
                                <p:ajax listener="#{listaDEController.eliminarxPosicion()}" update="Formulario,formBotones,graficaDE"/> 
        
                                <p:spinner value="#{listaDEController.borrarPosicion}" min="1"  max="#{listaDEController.listaPerrosDE.contarNodosDE()}"/>
                            </p:commandButton>
                            <p:commandButton value="Eliminación directa"  disabled="#{listaDEController.listaPerrosDE.contarNodos() == 0}">
                                <p:ajax listener="#{listaDEController.eliminacionDirecta()}" update="Formulario,formBotones,graficaDE"/> 
                            </p:commandButton>
                            <h:outputLabel value="INGRESE POSICIÓN 1  ::::::::::   INGRESE POSICIÓN 2"  />
                            <p:column/>
                            <p:commandButton value="Intercambiar posición" disabled="#{listaDEController.listaPerrosDE.contarNodos() == 0}">
                                <p:ajax listener="#{listaDEController.intercambiarPosicionesDadas()}" update="Formulario,formBotones,graficaDE"/> 
                                <p:spinner value="#{listaDEController.posicionUno}" min="1"  max="#{listaDEController.listaPerrosDE.contarNodosDE()}"/>
                                <p:spinner value="#{listaDEController.posicionDos}" min="1"  max="#{listaDEController.listaPerrosDE.contarNodosDE()}"/>
                            </p:commandButton>
                            -->
                        </p:panelGrid>
                    </p:panel>
                </h:form>
            </p:panel>    
        </h:form>


        <p:panel id="Grafica" header="TINGO TANGO  " style="width:800px"   >

            <p:diagram   value="#{listaDEControlador.modelTable}" style="height: 700px" styleClass="ui-widget-content" >


            </p:diagram>

        </p:panel>



    </ui:define>
</ui:composition>


